
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ensure this is at the very top if you decide to use it again, but per user request, it's removed.
   @import 'react-big-calendar/lib/css/react-big-calendar.css'; 
*/

@layer base {
  :root {
    --background: 210 17% 98%; /* #F9FAFB */
    --foreground: 220 17% 17%; /* Dark Gray e.g. #2a2f3c */
    --card: 0 0% 100%; /* #FFFFFF */
    --card-foreground: 220 17% 17%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 17% 17%;
    --primary: 195 100% 50%; /* #00BFFF - Deep Sky Blue */
    --primary-foreground: 0 0% 100%; /* White */
    --secondary: 202 100% 95%; /* #E6F4FF */
    --secondary-foreground: 217 100% 40%; /* Darker Blue for text on light blue */
    --muted: 210 17% 93%;
    --muted-foreground: 210 17% 45%;
    --accent: 217 100% 54%; /* #1677FF */
    --accent-foreground: 0 0% 100%; /* White */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 210 17% 90%;
    --input: 210 17% 90%;
    --ring: 217 100% 54%; /* Accent color for rings */
    --chart-1: 195 100% 50%;
    --chart-2: 217 100% 54%;
    --chart-3: 202 100% 75%;
    --chart-4: 195 80% 60%;
    --chart-5: 217 80% 70%;
    --radius: 0.5rem;

    /* Sidebar variables aligned with the theme, though not explicitly used in a sidebar layout for this iteration */
    --sidebar-background: 210 17% 98%;
    --sidebar-foreground: 220 17% 17%;
    --sidebar-primary: 195 100% 50%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 100% 54%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 210 17% 90%;
    --sidebar-ring: 217 100% 54%;
  }

  .dark {
    --background: 220 17% 10%; /* Dark Gray/Blue */
    --foreground: 210 17% 90%; /* Light Gray */
    --card: 220 17% 15%;
    --card-foreground: 210 17% 90%;
    --popover: 220 17% 15%;
    --popover-foreground: 210 17% 90%;
    --primary: 195 100% 60%; /* Lighter Deep Sky Blue */
    --primary-foreground: 220 17% 5%; /* Very Dark for contrast */
    --secondary: 202 100% 20%; /* Darker shade of E6F4FF base */
    --secondary-foreground: 202 100% 85%; /* Lighter text for dark secondary */
    --muted: 220 17% 20%;
    --muted-foreground: 210 17% 65%;
    --accent: 217 100% 60%; /* Lighter Accent Blue */
    --accent-foreground: 0 0% 100%; /* White */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 220 17% 25%;
    --input: 220 17% 25%;
    --ring: 217 100% 60%;
    --chart-1: 195 100% 60%;
    --chart-2: 217 100% 60%;
    --chart-3: 202 100% 55%;
    --chart-4: 195 80% 70%;
    --chart-5: 217 80% 80%;

    --sidebar-background: 220 17% 10%;
    --sidebar-foreground: 210 17% 90%;
    --sidebar-primary: 195 100% 60%;
    --sidebar-primary-foreground: 220 17% 5%;
    --sidebar-accent: 217 100% 60%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 220 17% 25%;
    --sidebar-ring: 217 100% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Custom Styles for react-big-calendar to align with ShadCN theme */

/* General Calendar Container */
.rbc-calendar {
  @apply bg-card text-card-foreground rounded-lg shadow-md;
  height: 100%; /* Ensure calendar takes full height of its flex container */
  display: flex;
  flex-direction: column;
}

/* Toolbar */
.rbc-toolbar {
  @apply mb-4 p-3 border-b border-border rounded-t-lg bg-card shadow-sm flex flex-wrap items-center justify-between gap-2;
}
.rbc-toolbar .rbc-btn-group button {
  @apply text-foreground bg-transparent hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:text-muted-foreground;
  @apply px-3 py-1.5 rounded-md border border-input text-sm;
}
.rbc-toolbar .rbc-btn-group button.rbc-active {
  @apply bg-primary text-primary-foreground shadow-sm hover:bg-primary/90;
}
.rbc-toolbar-label {
  @apply text-xl font-semibold text-foreground flex-grow text-center;
}

/* General Header for Day names in Month/Week/Day views */
.rbc-header {
  @apply text-center py-2 px-1 border-b border-r border-border text-sm font-medium text-foreground capitalize;
}
.rbc-header:last-child {
  @apply border-r-0; /* Remove right border for the last header cell */
}

/* Month View Specifics */
.rbc-month-view {
  @apply border-0 flex-grow flex flex-col; /* Allow month view to grow */
}
.rbc-month-header { /* Container for day names (Sun, Mon...) */
  @apply flex flex-row flex-none; /* Prevent shrinking */
}
.rbc-month-header .rbc-header { /* Individual day name cell */
   @apply flex-1 border-b-2 border-border pb-2; 
}
.rbc-month-row {
  @apply flex flex-row flex-grow overflow-hidden relative; /* Ensure rows take up space */
  min-height: 100px; /* Minimum height for a row in month view */
}
.rbc-row-bg { /* Backgrounds of days in a week row */
  @apply flex flex-row flex-1; /* Each day cell takes equal width */
}
.rbc-day-bg { /* Individual day cell background in month/week view */
  @apply border-l border-t border-border flex-1 relative; /* flex-1 for equal width, add top border */
  min-width: 0; /* Prevent flex items from overflowing */
}
.rbc-month-row .rbc-day-bg:first-child {
  @apply border-l-0; /* No left border for the first day of the week */
}
.rbc-month-row:first-child .rbc-day-bg {
    /* No top border for the first row of day cells, header already has bottom border */
    border-top: none; 
}
.rbc-off-range-bg { /* Days not in the current month */
  @apply bg-muted/30;
}
.rbc-today { /* Highlight for today's date background */
  @apply bg-secondary !important; 
}
.rbc-date-cell { /* The number for the day in month view */
  @apply text-right p-1 text-sm text-foreground;
}
.rbc-row-content { /* Wraps event segments in month view's day cell */
  @apply relative z-[1]; /* Ensure events are above background */
}
.rbc-month-view .rbc-event { /* Events in month view */
  @apply block text-xs p-0.5 my-0.5 rounded-sm overflow-hidden text-ellipsis whitespace-nowrap;
  /* Default event color handled by eventPropGetter or .rbc-event below */
}
.rbc-month-view .rbc-event-label {
    /* Not typically used if event has background color from eventPropGetter */
}
.rbc-month-view .rbc-event-content {
    /* Content inside the event, if any */
}
.rbc-show-more { /* "+X more" link */
  @apply text-primary text-xs mt-1 block hover:underline cursor-pointer text-center;
}


/* Time Views (Week/Day) Specifics */
.rbc-time-view {
  @apply flex flex-col flex-grow border-t border-border;
}
.rbc-time-header { /* Container for day headers and all-day events area */
  @apply flex flex-shrink-0 border-b border-border;
}
.rbc-time-header-content { /* Wraps the day headers (Mon 1, Tue 2...) */
  @apply flex flex-1 min-w-0; /* min-w-0 for flex context with overflow */
}
.rbc-time-header-gutter { /* Space above time gutter, aligns with time slots */
  @apply w-16 flex-shrink-0 border-r border-border bg-card text-center; /* Match .rbc-time-gutter width */
}
.rbc-time-header .rbc-header { /* Individual day header cell in week/day */
  @apply flex-1; /* Already styled by general .rbc-header */
}
.rbc-time-content { /* Main grid area for events, scrollable */
  @apply flex flex-grow overflow-auto;
  min-height: 400px; /* Ensure a minimum scrollable area */
}
.rbc-time-gutter { /* Time labels on the left (e.g., 7 AM, 8 AM) */
  @apply w-16 flex-shrink-0 border-r border-border bg-card; /* Fixed width */
}
.rbc-timeslot-group { /* Group of time slots, usually one hour */
  @apply border-b border-border;
  min-height: 40px; /* Height of one hour slot */
}
.rbc-time-slot { /* Individual slot, may be empty or represent a line. Can be :hover for effects */
  /* No specific styling needed if background is inherited and lines are from .rbc-timeslot-group */
}
.rbc-label { /* Labels in the time gutter e.g., 07:00 */
  @apply p-1.5 text-xs text-muted-foreground text-right block; /* block for proper spacing */
}
.rbc-day-slot { /* Vertical column for a single day in week/day views */
  @apply relative flex-1; /* Important for column layout */
  min-width: 100px; /* Minimum width for a day column */
}
.rbc-day-slot .rbc-event { /* Events in week/day view */
  @apply absolute z-[2] shadow-md rounded-md overflow-hidden text-ellipsis whitespace-nowrap;
  border: 1px solid hsl(var(--border)); /* Default border */
}
.rbc-day-slot .rbc-background-event { /* Background events if any */
    @apply opacity-75;
}
.rbc-allday-cell { /* Area for all-day events at the top of week/day */
  @apply p-1 border-b border-border relative;
  min-height: 30px; /* Give some space for all-day events */
  box-sizing: border-box;
}
.rbc-allday-cell .rbc-row-segment {
    padding: 2px 4px;
}
.rbc-allday-cell .rbc-event {
  /* Default .rbc-event styles apply */
}

/* Current Time Indicator */
.rbc-current-time-indicator {
  @apply absolute left-0 right-0 bg-destructive h-0.5 z-[3]; 
  /* Ensure it's on top of time slots but below events if needed */
}

/* Event Styling (General) */
.rbc-event {
  @apply p-1 text-xs rounded-md shadow-sm transition-colors duration-150 ease-in-out;
  @apply bg-primary text-primary-foreground border-primary; /* Default if no eventColor from eventPropGetter */
}
.rbc-event-label { /* Used for event title when no custom content */
  @apply font-medium text-ellipsis overflow-hidden whitespace-nowrap;
}
.rbc-event-content { /* Custom content within an event, if provided */
  @apply text-xs;
}
.rbc-event.rbc-selected { /* When an event is clicked/selected */
  @apply bg-accent text-accent-foreground ring-2 ring-ring ring-offset-1;
}
.rbc-slot-selection {  /* Visual feedback when dragging to select a time slot */
  @apply bg-accent/40 rounded z-[1];
}

/* Agenda View Specifics */
.rbc-agenda-view {
  @apply flex-grow overflow-auto p-2;
}
.rbc-agenda-view table.rbc-agenda-table {
  @apply w-full border-collapse;
}
.rbc-agenda-view table thead th {
  @apply text-left p-2.5 border-b-2 border-border bg-muted/50 font-semibold text-sm;
}
.rbc-agenda-view table tbody tr td {
  @apply p-2.5 border-b border-border align-top; /* align-top for better layout if content wraps */
}
.rbc-agenda-view table tbody tr:last-child td {
    border-bottom: none;
}
.rbc-agenda-date-cell, .rbc-agenda-time-cell {
  @apply text-muted-foreground whitespace-nowrap text-sm;
}
.rbc-agenda-time-cell {
   @apply pr-4; /* Space between time and event title */
}
.rbc-agenda-event-cell .rbc-event { /* Ensure event colors apply textually in agenda if needed */
  background-color: transparent !important; /* Override if only text color from eventColor is desired */
  border: none !important;
  padding: 0 !important;
  box-shadow: none !important;
  /* Text color can be set by eventPropGetter if event.eventColor is a valid text color */
}
.rbc-agenda-event-cell .rbc-event span { /* Text of the event in agenda */
  /* Color can be inherited or styled directly here */
  @apply font-medium text-foreground;
}


/* Popup for "+X more" events */
.rbc-overlay {
  @apply absolute z-50 bg-popover text-popover-foreground border border-border rounded-md shadow-lg p-2 min-w-[200px];
}
.rbc-overlay .rbc-event {
  @apply my-0.5 cursor-pointer; /* Make events in overlay clickable */
}
.rbc-overlay-header {
  @apply text-sm font-medium mb-1 border-b border-border pb-1;
}

/* Fixes for small screen responsiveness if needed */
@media (max-width: 768px) {
  .rbc-toolbar {
    @apply flex-col items-stretch; /* Stack toolbar items on small screens */
  }
  .rbc-toolbar .rbc-btn-group {
    @apply w-full flex justify-around; /* Space out buttons */
  }
  .rbc-toolbar-label {
    @apply text-lg my-2; /* Adjust label size and margin */
  }
  .rbc-time-header-gutter, .rbc-time-gutter {
    @apply w-12; /* Slightly reduce gutter width */
  }
  .rbc-label {
    @apply text-[10px] p-1; /* Smaller time labels */
  }
}

/* Ensure calendar content area grows, particularly for time and month views */
.rbc-month-view,
.rbc-time-view .rbc-time-content { 
  min-height: 400px; /* Adjust as needed for a good minimum scroll area */
}
.rbc-time-view .rbc-time-content {
  overflow-y: auto; /* Explicitly allow vertical scroll for time grid */
}
  
